<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>User Registration</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<link rel="stylesheet" type="text/css"
	href="webjars/bootstrap/3.3.7/css/bootstrap.min.css" />

<link rel="stylesheet" th:href="@{/css/main.css}"
	href="../../css/main.css" />

</head>
   <body>
     
     <nav class="navbar navbar-inverse">
		<div class="container">
			<div class="navbar-header">
				<a class="navbar-brand" href="#">User Registration</a>
			</div>
			<div id="navbar" class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
					<li ><a th:href="@{/}">Home</a></li>
					<li th:if="${currentRole} == 'ROLE_ADMIN'"><a th:href="@{/register}">Register</a></li>	
					<li class="active"><a th:href="@{/userlist}">User List</a></li>
				</ul>
			</div>
		</div>
	</nav>
	
	 
     <center>
	<div class="container">

		<div class="starter-template">
			<h1>Registered Users</h1>	
			<hr/>
			<br/>
      
		      <div>
		         <table border="1">
		            <tr>
		               <th>User Name</th>
		               <th>User DOB</th>
		               <th th:if="${currentRole} == 'ROLE_ADMIN'">PASSWORD</th>
		               <th th:if="${currentRole} == 'ROLE_ADMIN'">SSN</th>
		               <th th:if="${currentRole} == 'ROLE_ADMIN'">Action</th>
		            </tr>
		            <tr th:each ="user : ${users}">
		               <td th:utext="${user.userName}">...</td>
		               <td th:utext="${user.dob}">...</td>
		               <td th:if="${currentRole} == 'ROLE_ADMIN'" th:utext="${user.password}">...</td>
		                <td th:if="${currentRole} == 'ROLE_ADMIN'" th:utext="${user.ssn}">...</td>
		               <td th:if="${currentRole} == 'ROLE_ADMIN'"><a th:href="@{/deleteUser} + '/' + ${user.ssn}">Delete</a></td>
		            </tr>
		         </table>
		      </div>
      
      	</div>
      	
      	<hr/>
		<div th:if="${errorMessage}" th:utext="${errorMessage}" style="color: red; font-style: italic;" />
		<div th:if="${successMessage}" th:utext="${successMessage}" style="color: green; font-style: italic;" />
      	
      </div>
      
   </body>
</html>